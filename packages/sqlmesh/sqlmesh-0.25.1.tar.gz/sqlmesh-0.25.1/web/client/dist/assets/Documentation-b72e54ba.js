import{r as u,R as C,a8 as ae,a9 as ce,m as ne,D as _,y as z,ar as K,o as S,w as W,X as B,I as se,p as O,K as k,ap as U,an as de,z as j,ao as D,G as w,aG as fe,j as a,d as $,az as xe,aH as pe,ah as me,ak as be}from"./index-ba4e7745.js";import{c as he,M as ge,f as ve,C as re}from"./Graph-7e90c3f1.js";import{u as je}from"./context-a77befef.js";import{s as we}from"./popover-cf04d646.js";import{v as Y,M as ye,P as Ne}from"./disclosure-fee5e95b.js";function Te({onFocus:e}){let[t,n]=u.useState(!0);return t?C.createElement(ae,{as:"button",type:"button",features:ce.Focusable,onFocus:r=>{r.preventDefault();let s,l=50;function i(){if(l--<=0){s&&cancelAnimationFrame(s);return}if(e()){n(!1),cancelAnimationFrame(s);return}s=requestAnimationFrame(i)}s=requestAnimationFrame(i)}}):null}const le=u.createContext(null);function Ie(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let s=(n=r.get(t))!=null?n:0;r.set(t,s+1);let l=Array.from(r.keys()).indexOf(t);function i(){let p=r.get(t);p>1?r.set(t,p-1):r.delete(t)}return[l,i]}}}function Pe({children:e}){let t=u.useRef(Ie());return u.createElement(le.Provider,{value:t},e)}function ie(e){let t=u.useContext(le);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=Ee(),[r,s]=t.current.get(e,n);return u.useEffect(()=>s,[]),r}function Ee(){var e,t,n;let r=(n=(t=(e=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let s=[],l=r;for(;l;)s.push(l.index),l=l.return;return"$."+s.join(".")}var Se=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Se||{}),$e=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))($e||{}),De=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(De||{});let Ce={0(e,t){var n;let r=k(e.tabs,d=>d.current),s=k(e.panels,d=>d.current),l=r.filter(d=>{var N;return!((N=d.current)!=null&&N.hasAttribute("disabled"))}),i={...e,tabs:r,panels:s};if(t.index<0||t.index>r.length-1){let d=O(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>O(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});return l.length===0?i:{...i,selectedIndex:O(d,{0:()=>r.indexOf(l[0]),1:()=>r.indexOf(l[l.length-1])})}}let p=r.slice(0,t.index),m=[...r.slice(t.index),...p].find(d=>l.includes(d));if(!m)return i;let c=(n=r.indexOf(m))!=null?n:e.selectedIndex;return c===-1&&(c=e.selectedIndex),{...i,selectedIndex:c}},1(e,t){var n;if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],s=k([...e.tabs,t.tab],i=>i.current),l=(n=s.indexOf(r))!=null?n:e.selectedIndex;return l===-1&&(l=e.selectedIndex),{...e,tabs:s,selectedIndex:l}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:k([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Q=u.createContext(null);Q.displayName="TabsDataContext";function F(e){let t=u.useContext(Q);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,F),n}return t}let J=u.createContext(null);J.displayName="TabsActionsContext";function V(e){let t=u.useContext(J);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,V),n}return t}function Re(e,t){return O(t.type,Ce,e,t)}let Fe=u.Fragment;function Ae(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:s=!1,onChange:l,selectedIndex:i=null,...p}=e;const m=r?"vertical":"horizontal",c=s?"manual":"auto";let d=i!==null,N=z(t),[f,v]=u.useReducer(Re,{selectedIndex:i??n,tabs:[],panels:[]}),b=u.useMemo(()=>({selectedIndex:f.selectedIndex}),[f.selectedIndex]),A=K(l||(()=>{})),L=K(f.tabs),h=u.useMemo(()=>({orientation:m,activation:c,...f}),[m,c,f]),g=S(x=>(v({type:1,tab:x}),()=>v({type:2,tab:x}))),I=S(x=>(v({type:3,panel:x}),()=>v({type:4,panel:x}))),P=S(x=>{E.current!==x&&A.current(x),d||v({type:0,index:x})}),E=K(d?e.selectedIndex:f.selectedIndex),H=u.useMemo(()=>({registerTab:g,registerPanel:I,change:P}),[]);W(()=>{v({type:0,index:i??n})},[i]),W(()=>{if(E.current===void 0||f.tabs.length<=0)return;let x=k(f.tabs,T=>T.current);x.some((T,o)=>f.tabs[o]!==T)&&P(x.indexOf(f.tabs[E.current]))});let X={ref:N};return C.createElement(Pe,null,C.createElement(J.Provider,{value:H},C.createElement(Q.Provider,{value:h},h.tabs.length<=0&&C.createElement(Te,{onFocus:()=>{var x,T;for(let o of L.current)if(((x=o.current)==null?void 0:x.tabIndex)===0)return(T=o.current)==null||T.focus(),!0;return!1}}),B({ourProps:X,theirProps:p,slot:b,defaultTag:Fe,name:"Tabs"}))))}let Le="div";function Me(e,t){let{orientation:n,selectedIndex:r}=F("Tab.List"),s=z(t);return B({ourProps:{ref:s,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:Le,name:"Tabs.List"})}let ke="button";function Oe(e,t){var n,r;let s=se(),{id:l=`headlessui-tabs-tab-${s}`,...i}=e,{orientation:p,activation:m,selectedIndex:c,tabs:d,panels:N}=F("Tab"),f=V("Tab"),v=F("Tab"),b=u.useRef(null),A=z(b,t);W(()=>f.registerTab(b),[f,b]);let L=ie("tabs"),h=d.indexOf(b);h===-1&&(h=L);let g=h===c,I=S(o=>{var y;let G=o();if(G===U.Success&&m==="auto"){let oe=(y=de(b))==null?void 0:y.activeElement,te=v.tabs.findIndex(ue=>ue.current===oe);te!==-1&&f.change(te)}return G}),P=S(o=>{let y=d.map(G=>G.current).filter(Boolean);if(o.key===j.Space||o.key===j.Enter){o.preventDefault(),o.stopPropagation(),f.change(h);return}switch(o.key){case j.Home:case j.PageUp:return o.preventDefault(),o.stopPropagation(),I(()=>D(y,w.First));case j.End:case j.PageDown:return o.preventDefault(),o.stopPropagation(),I(()=>D(y,w.Last))}if(I(()=>O(p,{vertical(){return o.key===j.ArrowUp?D(y,w.Previous|w.WrapAround):o.key===j.ArrowDown?D(y,w.Next|w.WrapAround):U.Error},horizontal(){return o.key===j.ArrowLeft?D(y,w.Previous|w.WrapAround):o.key===j.ArrowRight?D(y,w.Next|w.WrapAround):U.Error}}))===U.Success)return o.preventDefault()}),E=u.useRef(!1),H=S(()=>{var o;E.current||(E.current=!0,(o=b.current)==null||o.focus(),f.change(h),fe(()=>{E.current=!1}))}),X=S(o=>{o.preventDefault()}),x=u.useMemo(()=>({selected:g}),[g]),T={ref:A,onKeyDown:P,onMouseDown:X,onClick:H,id:l,role:"tab",type:we(e,b),"aria-controls":(r=(n=N[h])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":g,tabIndex:g?0:-1};return B({ourProps:T,theirProps:i,slot:x,defaultTag:ke,name:"Tabs.Tab"})}let _e="div";function ze(e,t){let{selectedIndex:n}=F("Tab.Panels"),r=z(t),s=u.useMemo(()=>({selectedIndex:n}),[n]);return B({ourProps:{ref:r},theirProps:e,slot:s,defaultTag:_e,name:"Tabs.Panels"})}let Be="div",Ge=ne.RenderStrategy|ne.Static;function Ue(e,t){var n,r,s,l;let i=se(),{id:p=`headlessui-tabs-panel-${i}`,tabIndex:m=0,...c}=e,{selectedIndex:d,tabs:N,panels:f}=F("Tab.Panel"),v=V("Tab.Panel"),b=u.useRef(null),A=z(b,t);W(()=>v.registerPanel(b),[v,b]);let L=ie("panels"),h=f.indexOf(b);h===-1&&(h=L);let g=h===d,I=u.useMemo(()=>({selected:g}),[g]),P={ref:A,id:p,role:"tabpanel","aria-labelledby":(r=(n=N[h])==null?void 0:n.current)==null?void 0:r.id,tabIndex:g?m:-1};return!g&&((s=c.unmount)==null||s)&&!((l=c.static)!=null&&l)?C.createElement(ae,{as:"span",...P}):B({ourProps:P,theirProps:c,slot:I,defaultTag:Be,features:Ge,visible:g,name:"Tabs.Panel"})}let qe=_(Oe),We=_(Ae),He=_(Me),Xe=_(ze),Ke=_(Ue),R=Object.assign(qe,{Group:We,List:He,Panels:Xe,Panel:Ke});function Ye({list:e,children:t=[],className:n}){return a.jsxs(R.List,{className:"w-full whitespace-nowrap px-2 py-0.5 flex justify-between items-center bg-primary-10 dark:bg-secondary-10",children:[a.jsx("div",{className:$("flex w-full overflow-hidden overflow-x-auto py-1 hover:scrollbar scrollbar--horizontal",n),children:a.jsx("div",{className:"flex items-center bg-secondary-10 dark:bg-primary-10 cursor-pointer rounded-full p-1 overflow-hidden",children:e.map(r=>a.jsx(R,{className:({selected:s})=>$("text-xs px-2 py-0.5 mr-2 last:mr-0 rounded-full relative align-middle",s?"bg-secondary-500 text-secondary-100 cursor-default font-bold":"cursor-pointer font-medium text-secondary-400 dark:text-secondary-400"),children:r},r))})}),t]})}const Z=function({model:t,withModel:n=!0,withDescription:r=!0,withColumns:s=!0,withCode:l=!0,withQuery:i=!0}){const{handleClickModel:p}=je(),m=he(t.path,c=>{p==null||p(c.name)});return a.jsxs(ee,{children:[n&&a.jsx(q,{headline:"Model",defaultOpen:!0,children:a.jsxs("ul",{className:"px-2 w-full",children:[a.jsx(M,{name:"Path",value:t.path.split("/").slice(0,-1).join("/")}),a.jsx(M,{name:"Name",value:t.name}),a.jsx(M,{name:"Dialect",value:t.dialect}),a.jsx(M,{name:"Type",value:t.type}),Object.entries(t.details??{}).map(([c,d])=>a.jsx(M,{name:c.replaceAll("_"," "),value:d,isCapitalize:!0},c))]})}),r&&a.jsx(q,{headline:"Description",defaultOpen:!0,children:t.description==null?"No description":t.description}),s&&a.jsx(q,{headline:"Columns",children:a.jsx(ge,{className:"max-h-[15rem]",nodeId:t.name,columns:t.columns,disabled:(t==null?void 0:t.type)==="python",withHandles:!1,withSource:!1,limit:10})}),(l||i)&&a.jsx(q,{headline:"SQL",children:a.jsx(ve,{path:t.path,children:({file:c})=>a.jsxs(R.Group,{defaultIndex:i?1:0,children:[a.jsx(Ye,{list:[l&&"Source Code",i&&"Compiled Query"].filter(Boolean),className:"!justify-center"}),a.jsxs(R.Panels,{className:"h-full w-full overflow-hidden bg-neutral-10 mt-4 rounded-lg",children:[l&&a.jsx(R.Panel,{unmount:!1,className:$("flex flex-col w-full h-full relative px-2 overflow-hidden p-2","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:a.jsx(re,{content:c.content,type:c.extension,extensions:m,className:"text-xs"})}),i&&a.jsx(R.Panel,{unmount:!1,className:"w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 p-2",children:a.jsx(re,{type:xe.SQL,content:t.sql??"",extensions:m,className:"text-xs"})})]})]})})})]})};function Qe({headline:e}){return a.jsx("div",{className:"text-lg font-bold whitespace-nowrap w-full",id:e,children:a.jsx("h3",{className:"py-2",children:e})})}function Je(){return a.jsx(ee,{className:"font-bold whitespace-nowrap w-full h-full",children:a.jsx("div",{className:"flex items-center justify-center w-full h-full",children:"Documentation Not Found"})})}function ee({children:e,className:t}){return a.jsx("div",{className:$("w-full h-full rounded-xl",t),children:a.jsx("div",{className:"w-full h-full py-4 rounded-xl",children:a.jsx("div",{className:"w-full h-full overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:e})})})}function q({children:e,className:t,headline:n,defaultOpen:r=!1}){return a.jsx("div",{className:"px-4",children:a.jsx(Y,{defaultOpen:r,children:({open:s})=>a.jsxs(a.Fragment,{children:[a.jsxs(Y.Button,{className:$("flex items-center justify-between rounded-lg text-left w-full bg-neutral-10 px-3 mb-2",t),children:[a.jsx(Qe,{headline:n}),a.jsx("div",{children:s?a.jsx(ye,{className:"h-6 w-6 text-neutral-50"}):a.jsx(Ne,{className:"h-6 w-6 text-neutral-50"})})]}),a.jsx(Y.Panel,{className:"pb-2 overflow-hidden",children:a.jsx("div",{className:"px-2",children:e})})]})})})}function M({className:e,name:t,value:n,isHighlighted:r=!1,isCapitalize:s=!1,children:l}){const i=new Date(n),p=pe(n)&&!isNaN(i.getTime()),m=typeof n=="boolean";return a.jsxs("li",{className:$("w-full border-b border-primary-10 py-1 mb-1",e),children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("strong",{className:$("mr-2",s&&"capitalize",r&&"text-brand-500"),children:t}),a.jsx("p",{className:"text-xs rounded text-neutral-500 dark:text-neutral-400",children:m?me(n)?"True":"False":p?be(i):n})]}),a.jsx("p",{className:"text-xs ",children:l})]})}Z.NotFound=Je;Z.Container=ee;const rt=Z;export{rt as D,Ye as T,R as r};
